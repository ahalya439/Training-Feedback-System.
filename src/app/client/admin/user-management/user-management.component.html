
<app-navbar></app-navbar>
<app-side></app-side>
<div class="col-md-12 col-lg-9 right">
<nav class="navbar navbar-light">
  <h3 class=" text-center user mt-3">User Management</h3>
       
  
    <div class="container-fluid">
      
        <!-- <h2 class="text-light primary py-3">Student Management System</h2> -->
         <div class="d-flex suc ">
            <button class="btn btn-success mt-4 float-end"  (click)="add()"data-bs-toggle="modal" data-bs-target="#exampleModal">Add student</button>&nbsp;
            <!-- <button routerLink="/login" class="btn btn-warning">Logout</button> -->
        </div>
    </div>
</nav>

<!----table-->
 <div class="table-responsive">

<table class="table mt-5 table-striped px-5 table-responsive ">
    <thead>
        <tr>
            <th scope="col">S.Id</th>
            <th scope="col">Name</th>
            <th scope="col" >Email</th>
            <th scope="col">Password</th>
            <th scope="col">Role</th>
            <th scope="col">Department</th>
            <th scope="col">Date Of Joining</th>
          
            <th scope="col">Status</th>
            <th scope="col">Action</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let data of allstudentdata;let i=index; ">
            <td>{{i+1}}</td>
            <td>{{data.name}}</td>
            <td>{{data.email}}</td>
            <td>{{data.password}}</td>
            <td>{{data.user}}</td>
            <td>{{data.department}}</td>
            <td>{{data.date}}</td>
            <td>{{data.status}}</td>

            <td>
               <a class=" text-info"(click)="edit(data)"data-bs-toggle="modal" data-bs-target="#exampleModal" >  <i class="fa fa-edit " aria-hidden="true"></i></a>&nbsp;
               <a class=" text-danger"(click)="deletestud(data)"data-bs-toggle="modal" data-bs-target="#deleteConfirmationModal"><i class="fa fa-trash" aria-hidden="true"></i></a>
            </td>
        </tr>
    </tbody>
</table>
</div>
  <!-- Modal -->
  <div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div style="background:rgb(94, 166, 241);"class="modal-header">
          <h5 style="color:rgb(9, 9, 9);font-size:20px;margin-left:62px;font-weight: 620;"class="modal-title" id="exampleModalLabel"> TRAINING FEEDBACK SYSTEM</h5>
            <button type="button"class="btn-close "  data-bs-dismiss="modal" aria-label="Close">   
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="formValue">
            <div class="form-group">
              <div class="mb-3"> 
              <label for="exampleInputName1">Name</label>
              <input type="name" formControlName="name"   class="form-control" id="exampleInputName1" aria-describedby="nameHelp" placeholder="Enter your name">
              <small *ngIf="formValue.get('name')?.invalid && formValue.get('name')?.touched"class="text-danger">Name needed in Alphabet </small>
            </div>
       </div>
          <div class="form-group">
            <div class="mb-3"> 
            <label for="exampleInputEmail1">Email</label>
            <input type="email" formControlName="email"  class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter your email">
          <small *ngIf="formValue.get('email')?.invalid && formValue.get('email')?.touched"class="text-danger">email is Required</small>  
        </div>
          </div>
          <div class="form-group">
            <div class="mb-3"> 
              <label for="exampleInputPassword1">Password</label>
              <input type="password" formControlName="password" class="form-control" id="exampleInputPassword1" placeholder="Enter your password">
              <small *ngIf="formValue.get('password')?.invalid && formValue.get('password')?.touched" class="text-danger">Password is Required mininum 6 character</small>  
            </div>
          </div>
          
     

      <div class="form-group">
        <div class="mb-3">
            <label for="user">User Type</label>
            <input type="text" formControlName="user" class="form-control" id="user" placeholder="Enter user type">
            <small *ngIf="formValue.get('user')?.invalid && formValue.get('user')?.touched" class="text-danger">User type is required only alphabet</small>
        </div>
    </div>
    

    <div class="form-group">
      <label for="department">Department</label>
      <input type="text" formControlName="department" class="form-control" id="department" placeholder="Enter user type">
            <small *ngIf="formValue.get('department')?.invalid && formValue.get('department')?.touched" class="text-danger">User type is required only alphabet</small>
      </div>
    
    <div class="form-group">
      <label for="joiningDate">Date of Joining</label>
      <input type="date" formControlName="date" class="form-control" id="joiningDate">
      <small *ngIf="formValue.get('date')?.invalid && formValue.get('date')?.touched" class="text-danger">Date of joining is required</small>
    </div>
    
    <div class="form-group">
      <label for="status">Status</label>
      <select formControlName="status" class="form-control" id="status">
        <option value="">Select status</option>
        <option value="active">Active</option>
        <option value="inactive">Inactive</option>
      </select>
      <small *ngIf="formValue.get('status')?.invalid && formValue.get('status')?.touched" class="text-danger">Status is required</small>
    </div>
    
   
    
          </form>
        </div>




        <div style="background:rgb(94, 166, 241)"class="modal-footer">
          <button type="button" class="btn btn-warning"  (click)="resetForm()" >Reset</button>
          <button *ngIf="showadd"type="button"(click)="addstudent()"[disabled]="formValue.invalid" class="btn btn-success"data-bs-toggle="modal" data-bs-target="#successModal">Add</button>
          <button *ngIf="showupdate"type="button"(click)="update()"data-bs-toggle="modal" data-bs-target="#updateSuccessModal" [disabled]="formValue.invalid"class="btn btn-success">Update</button>
        </div>
      </div>
    </div>
  </div>
  </div>

  <div class="modal" tabindex="-1" role="dialog" id="deleteConfirmationModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Confirmation</h5>
          <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete this record?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#successModal"(click)="confirmDeletion()">Delete</button>
        </div>
      </div>
    </div>
  </div>
  
<!-- Success Modal -->
<div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title su" id="successModalLabel" >Success</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body ">
        <p class="text-success text-center">   Record deleted successfully.</p>
     
      </div>
    </div>
  </div>
</div>

  

  <!-- Success Modal -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
  <div class="modal-dialog ">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="successModalLabel">Success!</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body ">
        Record added successfully.
      </div>
      
    </div>
  </div>
</div>

<!-- Error Modal -->
<div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="errorModalLabel">Error!</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Something went wrong!!!
      </div>
    </div>
  </div>
</div>


<!-- Update Success Modal -->
<div class="modal fade" id="updateSuccessModal" tabindex="-1" aria-labelledby="updateSuccessModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="updateSuccessModalLabel">Success!</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

      </div>

      <div class="modal-body">
        Record updated successfully.
      </div>
    </div>
  </div>
</div>
